<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Unity WebGL Player | Zero Road</title>
  </head>
  <body style="text-align: center">
      <canvas id="unity-canvas" width=630 height=800 style="width: 630px; height: 800px; background: #828080"></canvas>
      <script src="Build/RoadGame.loader.js"></script>
      <script>
          jQuery(document).ready(function ($) // страница прогружена
          {
              vkBridge.send('VKWebAppInit');
              vkBridge.send('VKWebAppShowWallPostBox', {
                  message: 'Первая запись на стене!'
              })
                  .then((data) => {
                      if (data.post_id) {
                          console.log("ok"); // Запись размещена
                      }
                  })
                  .catch((error) => {
                      console.log(error); // Ошибка
                  });
          });
          var gameInstance = UnityLoader.instantiate("unity-container", "Build/MyUnityApp.json", { onProgress: UnityProgress });

          // Проверяем, запущено ли приложение на мобильном устройстве
          function isMobileDevice() {
              return (typeof window.orientation !== "undefined") || (navigator.userAgent.indexOf('IEMobile') !== -1);
          }

          // Разворачиваем приложение на весь экран, если оно запущено на мобильном устройстве
          if (isMobileDevice()) {
              gameInstance.SetFullscreen(1);
          }
      </script>

      <script>
          createUnityInstance(document.querySelector("#unity-canvas"), {
              dataUrl: "Build/RoadGame.data",
              frameworkUrl: "Build/RoadGame.framework.js",
              codeUrl: "Build/RoadGame.wasm",
              streamingAssetsUrl: "StreamingAssets",
              companyName: "DefaultCompany",
              productName: "Zero Road",
              productVersion: "1.0",
              // matchWebGLToCanvasSize: false, // Uncomment this to separately control WebGL canvas render size and DOM element size.
              // devicePixelRatio: 1, // Uncomment this to override low DPI rendering on high DPI displays.
          });
      </script>
  </body>
</html>
